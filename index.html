<html>
  <head>
    <title>JSON to gql converter</title>
    <meta charset="utf-8" />
  </head>
  <body>
    <h1>JSON to gql mutation converter:</h1>
    <p>JSON input:</p>
    <textarea id="JSON" rows="15" cols="100"></textarea>
    <br /><button onclick="convert()">convert to gql</button>
    <p>This is the gql Query:</p>
    <textarea id="conversion" rows="15" cols="100"></textarea>
    <br /><button onclick="copyToClipboard()">Copy to Clipboard</button>
    <script src="./util.js"></script>
    <script>
      const json = {
        name: "John",
        age: 30,
        city: "New York",
        dead: false,
        friends: ["Sally", "Tom", "Harry"],
      };
      const gql = convertJsonToGQl(json);
      document.getElementById("JSON").innerHTML = JSON.stringify(json);
      document.getElementById("conversion").innerHTML = gql;
      function convert() {
        const json = JSON.parse(document.getElementById("JSON").value);
        const gql = convertJsonToGQl(json);
        document.getElementById("conversion").innerHTML = gql;
      }
      function copyToClipboard() {
        /* Get the text field */
        var copyText = document.getElementById("conversion");

        /* Select the text field */
        copyText.select();
        copyText.setSelectionRange(0, 99999); /* For mobile devices */

        /* Copy the text inside the text field */
        navigator.clipboard.writeText(copyText.value);

        /* Alert the copied text */
        alert("Copied the text: " + copyText.value);
      }
    </script>
  </body>
</html>
